"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports._is_proxy = exports._obj = exports._trace = exports._state = void 0;
const constants_1 = require("./constants");
function _state(doc, checkroot = true) {
    if (typeof doc !== "object") {
        throw new RangeError("must be the document root");
    }
    const state = Reflect.get(doc, constants_1.STATE);
    if (state === undefined ||
        state == null ||
        (checkroot && _obj(doc) !== "_root")) {
        throw new RangeError("must be the document root");
    }
    return state;
}
exports._state = _state;
function _trace(doc) {
    return Reflect.get(doc, constants_1.TRACE);
}
exports._trace = _trace;
function _obj(doc) {
    if (!(typeof doc === "object") || doc === null) {
        return null;
    }
    return Reflect.get(doc, constants_1.OBJECT_ID);
}
exports._obj = _obj;
function _is_proxy(doc) {
    return !!Reflect.get(doc, constants_1.IS_PROXY);
}
exports._is_proxy = _is_proxy;
